<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
    <!-- 引用google字體 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap" rel="stylesheet">
    <!--  -->
    <link rel="stylesheet" href="css/style.css">
    <!-- 引用fontawesome icon -->
    <script src="https://kit.fontawesome.com/da3a6ce48e.js" crossorigin="anonymous"></script>
    <script src="js/jquery.js"></script>
    <title>ShyKid</title>

    <style>
        * {
            padding: 0;
            margin: 0;
        }

        .main-body {
            width: 1200px;
            display: flex;
        }

        button.on {
            background: black;
            color: white;
        }

        button.off {
            background: lightgray;
            color: gray;
        }

        .main-box {
            width: 1200px;
            display: flex;
            flex-wrap: wrap;
        }

        .box {
            width: 250px;
            height: 200px;
            background-color: wheat;
            margin: 10px;
            display: flex;
        }

        .box img {
            width: 250px;
            height: 200px;
            object-fit: cover;
        }
    </style>
</head>

<body>
    <!-- 導覽列 -->
    <div class="main-header">
        <div class="container">
            <h1>
                <i class="fa-solid fa-dog">
                    ShyKid
                </i>
            </h1>
            <nav>
                <ul class="main-menu">
                    <li><a href="index.html">首頁<i class="fa-solid fa-house"></i></a></li>
                    <li>
                        <a href="">領養<i class="fa-solid fa-paw"></i></a>
                        <ul class="dropdown">
                            <li><a href="">待養寵物</a></li>
                            <li><a href="">領養資訊</a></li>
                            <li><a href=""></a></li>
                        </ul>
                    </li>
                    <li><a href="">動物百科<i class="fa-solid fa-book-open"></i></a>
                        <ul class="dropdown">
                            <li><a href="vaccine.html">疫苗知識</a></li>
                            <li><a href="disease.html">常見症狀</a></li>
                        </ul>
                    </li>
                    <li><a href="">關於我們<i class="fa-regular fa-address-card"></i></a></li>
                </ul>
            </nav>
        </div>
    </div>

    <div class="main-body">
        <div class="sidemenu" onclick="select_()">
            <label for=""><input type="radio" name="dog-age" class="picks dogage" value="kid" id="">幼犬</label>

            <input type="radio" name="dog-age" class="picks dogage" value="young" id="">成犬

            <input type="radio" name="dog-vac" class="picks dogvac" value="five">五合一
            <input type="radio" name="dog-vac" class="picks dogvac" value="eight">八合一
        </div>
        <div class="main-box">

        </div>
    </div>

    <!-- 尾部區塊 -->
    <div class="footer">
        <div class="footer-wrap">
            <div class="footer-box">
                <div class="footer-content">
                    <h3>詳細資訊</h3>
                    <ul>
                        <li><a href=""><i class="fa-solid fa-angle-right"></i>最新消息</a></li>
                        <li><a href=""><i class="fa-solid fa-angle-right"></i>xxx</a></li>
                        <li><a href=""><i class="fa-solid fa-angle-right"></i>xxx</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-box">
                <div class="footer-content">
                    <h3>領養資訊</h3>
                    <ul>
                        <li><a href=""><i class="fa-solid fa-angle-right"></i>領養布告欄</a></li>
                        <li><a href=""><i class="fa-solid fa-angle-right"></i>發佈領養</a></li>
                        <li><a href=""><i class="fa-solid fa-angle-right"></i>領養須知</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-box">
                <div class="footer-content">
                    <h3>追蹤我們</h3>
                    <ul>
                        <li>
                            <a href=""><i class="fa-brands fa-instagram"></i></a>
                        </li>
                        <li><a href=""><i class="fa-brands fa-facebook"></i></a></li>
                        <li><a href=""><i class="fa-brands fa-twitter"></i></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>

        $(function () {

            var petList = [
                { "title": "幼犬五合一", "age": "kid", "vac": "five" },
                { "title": "幼犬八合一", "age": "kid", "vac": "eight" },
                { "title": "成犬五合一", "age": "young", "vac": "five" },
                { "title": "成犬八合一", "age": "young", "vac": "eight" },
                // { "img": "img/dog04.jpg", "title": "成犬" },
            ]
            // 陣列循環取出值 顯示在網頁
            $.each(petList, function (index, obj) {
                // var petimg = obj.img;
                var pettitle = obj.title
                var petage = obj.age;
                var petvac = obj.vac;

                // var age = '';
                // if (obj.age != null) {
                //     age = `<h1>${obj.age}</h1>`
                // }
                let imgList = `<div class="box displayElement" data-age="${petage}" data-vac="${petvac}"><h1>${pettitle}</h1></div>`
                $(".main-box").append(imgList);
            })
        })

        //要呈現的元素
        displayElement = document.getElementsByClassName("displayElement");
        //列出有哪些選項
        picks = document.getElementsByClassName("picks");
        picksArray = new Array();
        //將所有選項填加 至陣列
        for (var x = 0; x < picks.length; x++) {
            picksArray.push(picks[x].className.replace("picks ", ""));
        }
        //刪除重複的選項 歸類出哪幾種選項
        picksArray = [...new Set(picksArray)]
        console.log("沒有重複的選項有 = " + picksArray);

        function select_() {
            //關鍵字陣列
            keyArray = new Array();

            //將有勾選沒勾選 一個都沒選 進行一系列的判斷 儲存關鍵字
            //第一個判斷有無勾選 一個都沒勾就等於 全部都要看到 所以加入全部
            //反之 當一個有勾選 其他無視 則加入有勾選的
            for (var x = 0; x < picksArray.length; x++) {
                if (!haveCk(picksArray[x])) { PushAll(picksArray[x]) } else { PushOne(picksArray[x]) }
            }

            //經過關鍵字陣列搜尋後 有=顯示 無=隱藏
            //這個寫法有個問題是 當新增一種data-NAME 都要在if內手動新增篩選
            for (var z = 0; z < displayElement.length; z++) {
                if (keyArray.indexOf(displayElement[z].dataset.age) != -1 &&
                    keyArray.indexOf(displayElement[z].dataset.vac) != -1
                ) {
                    displayElement[z].style.display = "block";
                } else {
                    displayElement[z].style.display = "none";
                }
            }
        }
        //檢查是否有任一選項被勾選
        function haveCk(tagName) {
            CkBox = document.getElementsByClassName(tagName);
            for (var x = 0; x < CkBox.length; x++) {
                if (CkBox[x].checked == true) {
                    return true;
                }
            }
            return false;
        }

        //填加某分類 所有選項至關鍵字陣列
        function PushAll(tagName) {
            pushName = document.getElementsByClassName(tagName);
            for (var x = 0; x < pushName.length; x++) {
                keyArray.push(pushName[x].value);
            }
            console.log("關鍵字暫存 = " + keyArray)
        }

        //僅填加被勾選的選項至 關鍵字陣列
        function PushOne(tagName) {
            pushName = document.getElementsByClassName(tagName);
            for (var x = 0; x < pushName.length; x++) {
                if (pushName[x].checked == true) {
                    keyArray.push(pushName[x].value);
                }
            }
            console.log("關鍵字暫存 = " + keyArray)
        }
        $('button').on('click', function () {
            $('button').removeClass('on').addClass('off');
            $(this).removeClass('off').addClass('on');
        });
    </script>



</body>

</html>